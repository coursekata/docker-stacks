[project]
authors = ["Adam Blake <adam@ablake.dev>"]
channels = ["conda-forge", "default"]
description = "CourseKata Jupyter environments"
name = "coursekata"
platforms = ["linux-aarch64", "linux-64", "osx-64"]
version = "0.1.0"

# -----------------------------------------------------------------------------
# Environment definitions
# -----------------------------------------------------------------------------
[environments.base-r]
solve-group = "main"
features = ["modern-notebook", "base-r"]

[environments.essentials]
solve-group = "main"
features = ["modern-notebook", "base-r", "essentials"]

[environments.r]
solve-group = "main"
features = ["modern-notebook", "base-r", "essentials", "r"]

[environments.datascience]
solve-group = "main"
features = ["modern-notebook", "base-r", "essentials", "r", "datascience-r", "datascience"]

[environments.ckcode]
solve-group = "ckcode"
features = ["modern-notebook", "ckcode", "base-r", "essentials"]

[environments.ckhub]
solve-group = "ckhub"
features = ["ckhub", "base-r", "essentials", "r", "datascience-r", "datascience"]

[environments.deepnote-ckcode-r]
solve-group = "deepnote"
features = ["deepnote", "base-r", "essentials"]

[environments.deepnote-datascience-r]
solve-group = "deepnote"
features = ["deepnote", "base-r", "essentials", "r", "datascience-r"]


# -----------------------------------------------------------------------------
# Feature definitions
# -----------------------------------------------------------------------------
[dependencies]
python = ">=3.11,<3.12"
pip = ">=24.3.1,<25"
pydantic = ">=2.10.4,<3"
ruyaml = ">=0.91.0,<0.92"


[feature.base-r.dependencies]
r-base = ">=4.3,<4.4"
unixodbc = ">=2.3.12,<3"
r-irkernel = ">=1.3.2,<2"
r-remotes = ">=2.5.0,<3"


[feature.essentials.dependencies]
r-coursekata = ">=0.18.0"
r-ggpubr = ">=0.6.0,<0.7"
r-gridextra = ">=2.3,<3"
r-lme4 = ">=1.1_35.5,<2"
r-plotly = ">=4.10.4,<5"
r-statmod = ">=1.5.0,<2"
r-scales = ">=1.3.0,<2"
r-evaluate = ">=1.0.1,<2"
r-magrittr = ">=2.0.3,<3"
r-markdown = ">=1.13,<2"
r-praise = ">=1.0.0,<2"
r-r6 = ">=2.5.1,<3"
r-stringdist = ">=0.9.14,<0.10"
r-xfun = ">=0.49,<0.50"


[feature.r.dependencies]
r-av = ">=0.9.0,<0.10"
r-bayesplot = ">=1.11.1,<2"
"r-broom.mixed" = ">=0.2.9.6,<0.3"
r-car = ">=3.1_3,<4"
r-dagitty = ">=0.3_4,<0.4"
r-datapasta = ">=3.1.0,<4"
r-devtools = ">=2.4.5,<3"
r-dharma = ">=0.4.7,<0.5"
r-easystats = ">=0.7.3,<0.8"
r-emmeans = ">=1.10.6,<2"
r-fs = ">=1.6.5,<2"
r-gganimate = ">=1.0.9,<2"
r-ggdag = ">=0.2.13,<0.3"
r-ggeffects = ">=2.0.0,<3"
r-gifski = ">=1.12.0_2,<2"
r-gt = ">=0.11.1,<0.12"
r-gtsummary = ">=2.0.4,<3"
r-here = ">=1.0.1,<2"
r-janitor = ">=2.2.0,<3"
r-kknn = ">=1.3.1,<2"
r-lmertest = ">=3.1_3,<4"
r-loo = ">=2.8.0,<3"
r-mapdata = ">=2.3.1,<3"
r-mapproj = ">=1.2.11,<2"
r-marginaleffects = ">=0.24.0,<0.25"
r-modelsummary = ">=2.2.0,<3"
r-neuralnet = ">=1.44.2,<2"
r-posterior = ">=1.6.0,<2"
r-profvis = ">=0.4.0,<0.5"
r-psych = ">=2.4.3,<3"
r-purrr = ">=1.0.2,<2"
r-rcpptoml = ">=0.2.2,<0.3"
r-readxl = ">=1.4.3,<2"
r-reticulate = ">=1.40.0,<2"
r-sjplot = ">=2.8.17,<3"
r-tidybayes = ">=3.0.7,<4"
r-tidymodels = ">=1.2.0,<2"
r-tidyverse = ">=2.0.0,<3"
## for r-mobilizr, not on conda
r-curl = ">=6.0.1,<7"
r-dplyr = ">=1.1.4,<2"
r-latticeextra = ">=0.6_30,<0.7"
r-leaflet = ">=2.2.2,<3"
r-log4r = ">=0.4.4,<0.5"
r-mosaic = ">=1.9.1,<2"
r-plyr = ">=1.8.9,<2"
r-rcolorbrewer = ">=1.1_3,<2"
r-readr = ">=2.1.5,<3"
r-rpart = ">=4.1.23,<5"
"r-rpart.plot" = ">=3.1.2,<4"
r-rstudioapi = ">=0.17.1,<0.18"
r-rvest = ">=1.0.4,<2"
r-stringr = ">=1.5.1,<2"
r-wordcloud = ">=2.6,<3"
r-xml = ">=3.99_0.17,<4"
r-xml2 = ">=1.3.6,<2"
## for r-ocsdata, not on conda
r-credentials = ">=2.0.2,<3"
r-gert = ">=2.1.4,<3"
r-gh = ">=1.4.1,<2"
r-gitcreds = ">=0.1.2,<0.2"
r-httr2 = ">=1.0.7,<2"
r-ini = ">=0.3.1,<0.4"
r-zip = ">=2.3.1,<3"
r-usethis = ">=3.1.0,<4"
r-whisker = ">=0.4.1,<0.5"
## for r-simstudy, not on conda
r-bh = ">=1.84.0_0,<2"
r-bigmemory = ">=4.6.4,<5"
"r-bigmemory.sri" = ">=0.1.8,<0.2"
r-fastglm = ">=0.0.3,<0.0.4"
r-mvnfast = ">=0.2.8,<0.3"
r-pak = ">=0.8.0,<0.9"

[feature.r.target.linux-aarch64.dependencies]
ocl-icd-system = ">=1.0.0,<2"

[feature.r.target.linux-64.dependencies]
ocl-icd-system = ">=1.0.0,<2"


[feature.datascience-r.dependencies]
# instructor 2
# start cmdstan
cmdstan = ">=2.36.0,<3"
clangxx = ">=18.1.8,<20"
r-cmdstanr = ">=0.8.1,<0.9"
r-rstanarm = ">=2.32.1,<3"
# end cmdstan
r-brms = ">=2.20.1,<3"
r-ggstatsplot = ">=0.13.0,<0.14"
r-coda = ">=0.19_4.1,<0.20"
r-digest = ">=0.6.37,<0.7"
r-modelsummary = ">=2.2.0,<3"
r-pwr = ">=1.3_0,<2"
# r-pwrss = "*"
r-skimr = ">=2.1.5,<3"
r-mgcv = ">=1.9_1,<2"
# r-extradistr = "*"
# for r-flexplot, not on conda
r-cowplot = ">=1.1.3,<2"
r-dplyr = ">=1.1.4,<2"
r-forcats = ">=1.0.0,<2"
r-ggplot2 = ">=3.5.1,<4"
r-ggsci = ">=3.2.0,<4"
r-lme4 = ">=1.1_35.5,<2"
r-magrittr = ">=2.0.3,<3"
r-mass = ">=7.3_60.0.1,<8"
r-plyr = ">=1.8.9,<2"
r-r6 = ">=2.5.1,<3"
r-tibble = ">=3.2.1,<4"
r-withr = ">=3.0.2,<4"
r-jmvcore = ">=2.6.3,<3"
# end r-flexplot
# for r-mlpwr, not on conda
r-dicekriging = ">=1.6.0,<2"
r-rlist = ">=0.4.6.2,<0.5"
# end r-mlpwr
# r-dlookr = "*"
  # r-websocket = "*"
  # r-party = "*"
  # r-partykit = "*"
# end r-dlookr
# r-tidyplots = "*"
  # r-beeswarm = "*"
  # r-ggbeeswarm = "*"
  # r-ggrastr = "*"
r-vipor = ">=0.4.7,<0.5"
r-foreign = ">=0.8_87,<0.9"
r-htmltable = ">=2.4.3,<3"
r-hmisc = ">=5.2_1,<6"
r-rttf2pt1 = ">=1.3.12,<2"
r-pan = ">=1.9,<2"
r-jomo = ">=2.7_6,<3"
r-svglite = ">=2.1.3,<3"
r-glmnet = ">=4.1_8,<5"
r-sysfonts = ">=0.8.9,<0.9"
r-gdtools = ">=0.4.0,<0.5"
r-mice = ">=3.17.0,<4"
r-showtext = ">=0.9_7,<0.10"
r-extrafontdb = ">=1.0,<2"
r-extrafont = ">=0.19,<0.20"
r-asioheaders = ">=1.22.1_2,<2"
r-bookdown = ">=0.41,<0.42"
r-servr = ">=0.32,<0.33"
r-hrbrthemes = ">=0.8.7,<0.9"
r-kableextra = ">=1.4.0,<2"
r-cairo = ">=1.6_2,<2"
cairo = ">=1.18.0,<2"
# end r-tidyplots


[feature.datascience.dependencies]
ipywidgets = ">=8.1.5,<9"
matplotlib = ">=3.9.4,<4"
plotly = ">=5.24.1,<6"
scikit-learn = ">=1.6.0,<2"
seaborn = ">=0.13.2,<0.14"
# instructor 1
altair = ">=5.5.0,<6"
beautifulsoup4 = ">=4.12.3,<5"
bokeh = ">=3.6.2,<4"
cmdstanpy = ">=1.2.4,<2"
contextily = ">=1.6.2,<2"
dash = ">=2.18.2,<3"
dtreeviz = ">=2.2.2,<3"
folium = ">=0.19.0,<0.20"
gensim = ">=4.3.2,<5"
geopandas = ">=1.0.1,<2"
mapclassify = ">=2.8.1,<3"
networkx = ">=3.4.2,<4"
nltk = ">=3.9.1,<4"
openpyxl = ">=3.1.5,<4"
researchpy = ">=0.3.6,<0.4"
scipy = ">=1.14.1,<2"
spotipy = ">=2.23.0,<3"
statsmodels = ">=0.14.4,<0.15"
vega_datasets = ">=0.9.0,<0.10"
wordcloud = ">=1.9.4,<2"
yellowbrick = ">=1.4,<2"
# instructor 2
chromadb = ">=0.5.23"
langchain = ">=0.3.13"
openai = ">=1.58.1,<2"
nodejs = ">=22.6.0,<22.7"

[feature.datascience.pypi-dependencies]
altair-latimes = ">=0.0.2, <0.0.3"
dash-cytoscape = ">=1.0.2, <2"
yahoo-fin = ">=0.8.9.1, <0.9"


[feature.modern-notebook.dependencies]
jupyter_core = ">=5.7.2,<6"
jupyterlab = ">=4.3.3,<5"
notebook = ">=7.3.1,<8"
nbclassic = ">=1.1.0,<2"


[feature.ckcode.target.linux-64.dependencies]
# for pythonwhat, not on conda
asttokens = "<3"
r-mass = ">=7.3_60.0.1,<8"
r-matrix = ">=1.6_5,<2"

[feature.ckcode.target.linux-64.pypi-dependencies]
pythonwhat = { git = "https://github.com/datacamp/pythonwhat" }


[feature.ckhub.dependencies]
# system deps
# TODO: look into system-dependencies?
patch = ">=2.7.6,<3"
# instructor requested system deps
graphviz = "*"
# core package deps
cryptography = ">=44.0.0,<45"
jupyter_core = ">=5.7.2,<6"
jupyterhub = ">=5.2.1,<6"
jupyterhub-singleuser = ">=5.2.1,<6"
jupyterhub-kubespawner = ">=6.2.0"
lxml = ">=5.3.0"
nbconvert = ">=7.16.4"
notebook = ">=6.5.6,<7"
portalocker = ">=2.10.1"
pydantic = ">=2,<3"
pydantic-settings = ">=2.5.2"
pytz = ">=2024.2"
pydantic-extra-types = ">=2.10.0"
# other useful deps
nbgitpuller = ">=1.2.1,<2"

[feature.ckhub.pypi-dependencies]
# core package deps
dependency-injector = ">=4.43.0"
# triggers warning: `The package `pyjwt==2.10.1` does not have an extra named `crypto`
jupyterhub-ltiauthenticator = ">=1.6.2"


[feature.deepnote.host-dependencies]
bash = "*"
curl = "*"

[feature.deepnote.dependencies]
python = ">=3.11,<3.12"
pip = ">=24.3.1,<25"

[feature.deepnote.pypi-dependencies]
markupsafe = ">=2.0"
sqlalchemy = ">=1.4.19"
altair = ">=4.2.2, <=5.5"
asn1crypto = ">=1.5.1"
asttokens = ">=2.1.0"
asynch = ">=0.2.2"
attrs = ">=22.2.0"
bcrypt = ">=3.2"
boto3 = ">=1.26.4"
botocore = ">=1.29.4"
cachetools = ">=2.0.0, <6.0"
certifi = ">=2017.4.17"
cffi = ">=1.4.1"
charset-normalizer = ">=2, <4"
click-plugins = ">=1.0"
click = "~=8.0"
clickhouse-driver = ">=0.1.2"
clickhouse-sqlalchemy = ">0, <0.4"
cligj = ">=0.5"
comm = ">=0.1.1"
cryptography = ">=3.3"
db-dtypes = ">=1.2.0, <1.4"
debugpy = ">=1.6.5"
dill = "==0.3.8"
dnspython = ">=1.16.0, <3.0.0"
duckdb = ">=0.9.2, <0.10.0"
executing = ">=1.2.0"
fastjsonschema = ">=2.15"
filelock = ">=3.5, <4"
fiona = ">=1.8"
geopandas = "<2"
google-api-core = ">=1.31.6, !=2.0.*, !=2.1.*, !=2.2.*, !=2.3.0, <3.0.0.dev0"
google-auth = ">=1.25.0, <3.0.dev0"
google-cloud-bigquery-storage = "==2.16.2"
google-cloud-bigquery = ">=3.3.6, <4.0.0.dev0"
google-cloud-core = ">=1.4.4, <3.0.dev0"
google-cloud-spanner = ">=3.12.0"
google-crc32c = ">=1.0, <2.0.dev0"
google-resumable-media = ">=0.6.0, <3.0.dev0"
googleapis-common-protos = ">=1.5.5"
greenlet = "!=0.4.17"
grpc-google-iam-v1 = ">=0.12.4, <1.0.0.dev0"
grpc-interceptor = ">=0.15.4"
grpcio = ">=1.62.3"
idna = ">=2.5, <4"
ipykernel = ">6.22.0"
ipython = ">=7.23.1"
jedi = ">=0.16"
jinja2 = ">=2.11.3, <3.1"
jmespath = ">=0.7.1, <2.0.0"
jsonschema-specifications = ">=2023.3.6"
jsonschema = ">=3.0"
jupyter-client = ">=6.1.12"
jupyter-core = ">=4.9.2"
matplotlib-inline = ">=0.1"
nbformat = ">=5.10.4, <6.0.0"
nest-asyncio = ">=1.5.4"
numpy = ">=1.23.2"
packaging = ">=20.0.0"
pandas = ">=1.0.0"
paramiko = ">=2.7.2"
parso = ">=0.7.0, <0.8.0"
pexpect = ">4.3"
pg8000 = "==1.31.2"
platformdirs = ">=2.5"
prompt-toolkit = ">=3.0.30, !=3.0.37, <3.1.0"
proto-plus = ">=1.22.3, <2.0.0.dev0"
protobuf = ">=4.21.6"
psycopg2-binary = ">=2.9.4, <2.10"
ptyprocess = ">=0.5"
pyopenssl = ">=16.2.0, <25.0.0"
pyarrow = ">=5.0.0"
pyasn1-modules = ">=0.2.1"
pyasn1 = ">=0.1.3"
pyathena = "==3.9.0"
pygments = ">=2.4.0"
pyjwt = "<3.0.0"
pymongo = ">=4.3.2, <4.10"
pymssql = ">=2.2.9, <2.4"
pymysql = ">=1.0.2, <1.2"
pynacl = ">=1.5"
pyproj = ">=2.6.1.post1"
python-dateutil = ">=2.8.2"
pytz = ">=2020.1"
pyzmq = ">=24"
referencing = ">=0.31.0"
requests = ">=2.31.0"
rpds-py = ">=0.7.1"
rsa = ">=3.1.4, <5"
s3transfer = ">=0.10.0, <0.11.0"
scramp = ">=1.4.5"
sentry-sdk = ">=1.24, <2.15"
shapely = ">=1.7, <2"
six = ">=1.5"
snowflake-connector-python = "<4.0.0"
snowflake-sqlalchemy = ">=1, <1.7"
sortedcontainers = ">=2.4.0"
sqlalchemy-bigquery = ">1.6.1, <1.12"
sqlalchemy-dremio = ">=3.0.3, <3.1"
sqlalchemy-redshift = ">=0.8.11, <0.9"
sqlalchemy-spanner = ">=1.6.2, <2.0.0"
sqlparse = ">=0.4.4"
sshtunnel = "==0.4.0"
tenacity = ">=4.1.0"
tornado = ">=6.2"
traitlets = ">=5.4.0"
trino = ">=0.327.0, <=0.330.0"
typing-extensions = ">=4"
urllib3 = ">=1.26.11"
